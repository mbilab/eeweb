////////////////////////
// global setting

//// font
@import url('https://fonts.googleapis.com/css?family=Barlow:400,700')
@import url(https://fonts.googleapis.com/earlyaccess/notosanstc.css)

////font-awesome

.fas
  margin-right: 10px

//// size

.size-normal
  height: auto
  max-width: 100%

//// scroll bar

.page-content, .item, #group, #member

  &::-webkit-scrollbar
    width: 0px
    background-color: transparent

  &::-webkit-scrollbar-thumb, &::-webkit-scrllbar-track
    border-radius: 10px
    background-color: transparent

//// font awesome

.fa
  color: #e2db1a

  [data-orientation='landscape'] &
    font-size: 2em

//// animation time

$normal-term: .6s
$short-term: .2s

//// color setting

$bold-color: #4A4A4A
$dark-color: rgb(68, 63, 70)
$gray-color: #F3F3F3
$primary-color: #E2DB1A
$sub-color: #5C3D78
$text-color: #979797

//// mixin

=full-size
  height: 100%
  position: absolute
  width: 100%

=vertical-center($display: inline-flex)
  align-items: center
  display: $display
  justify-content: center
  text-align: center

////////////////////////
// body > #logo, #menu, #page > .page > .page-info, .page-content

body // {{{
  font-family: 'Barlow', 'Noto Sans CJK TC', "Microsoft JhengHei", monospace
  line-height: 1.5
  margin: 0
  overflow: hidden

  &[data-orientation='portrait']
    background-color: lighten($dark-color, 10%)

  a
    color: white
    text-decoration: none
// }}}

#logo // {{{
  +vertical-center
  background-color: $primary-color
  font-weight: bold
  line-height: normal
  position: fixed
  z-index: 100

  [data-orientation='landscape'] &
    font-size: 25px
    height: 60px
    left: 50px
    top: 50px
    width: 165px
  [data-orientation='portrait'] &
    cursor: pointer
    font-size: 20px
    height: 48px
    left: 20px
    top: 20px
    width: 132px
// }}}

#menu // {{{
  font-size: 18px
  transition: padding ease-in-out $short-term

  a
    display: block
    transition: padding ease-in-out $short-term

  [data-orientation='landscape'] &
    bottom: 50px
    font-weight: bold
    position: absolute
    z-index: 100

    a
      margin-left: 50px

      &:hover
        color: $primary-color

      &:first-child
        display: none

  [data-orientation='portrait'] &
    left: 20px
    position: absolute
    top: 98px
    transform: translateX(-100%)
    width: 10em

    a
      display: block
      margin-top: 30px

      &:first-child
        margin-top: 0

  [data-orientation='portrait'][data-menued] &
    transform: translateX(0)
// }}}

#page // {{{
  +full-size
  background: url('./res/bg.jpg') center center / cover no-repeat
  overflow: hidden
  transition: all $short-term ease-in-out

  &:after // mask
    +full-size
    background: rgba($dark-color, .9)
    content: ''
    pointer-events: none
    transition: all $short-term ease-in-out

    [data-orientation='landscape'][data-page='landing'] &
      width: 43%

  [data-orientation='portrait'][data-menued] &
    box-shadow: 0 15px 15px 5px rgba(0, 0, 0, 0.5)
    transform: translateY(270px) scale(0.9)
    transform-origin: bottom
// }}}

.page // {{{
  +full-size
  box-sizing: border-box
  display: flex
  opacity: 0
  pointer-events: none
  transition: all $normal-term ease-in-out
  z-index: 1

  [data-orientation='landscape'] &
    padding: 50px

  [data-orientation='portrait'] &
    flex-wrap: wrap
    padding: 0

@each $page in landing news faculty
  [data-page='#{$page}'] .page[data-page-id='#{$page}']
    opacity: 1
    pointer-events: auto
  [data-page='#{$page}'][data-menued] .page[data-page-id='#{$page}']
    pointer-events: none
// }}}

.page-info, .page-content
  float: left
  height: 100%
  position: relative

.page-info // {{{
  flex-shrink: 0
  //font-size: 4vw //! vw?

  [data-orientation='landscape'] &
    width: 300px

  [data-orientation='portrait'] &
    height: 88px
    width: 100%

  .title
    color: $primary-color
    font: italic bold 36px 'barlow'
    //font-style: italic //! why not in font?

    [data-orientation='landscape'] &
      position: relative //! needed?
      top: 113px

    [data-orientation='portrait'] & //! all needed?
      align-items: center
      display: flex
      font-size: 22px
      height: 100%
      justify-content: flex-end
      text-align: right
      position: relative
      right: 20px
  // }}}

#page-content //! don't change the architecture
  display: flex
  flex-direction: column

.page-content // {{{

  box-sizing: border-box
  overflow: auto

  [data-orientation='landscape'] &

  [data-orientation='portrait'] &
    height: calc(100% - 128px)
    width: 100%

    &::-webkit-scrollbar
      width: 0px

  [data-page='faculty'] &
    width: 100%

  [data-orientation='portrait'][data-page='faculty'] &
    box-sizing: border-box
    display: flex
    flex-wrap: wrap
    padding: 7vw 0

  &[data-page-content="list"]

    &:hover::-webkit-scrollbar-thumb
      background-color: $primary-color

  &[data-page-content="content"]

    &:hover::-webkit-scrollbar-thumb
      background-color: rgba(122, 122, 122, 0.65)
// }}}

.item // {{{ //! only in news?
  box-sizing: border-box
  color: black
  display: inline-block
  opacity: 0
  overflow: hidden
  position: relative
  transition: height $short-term, opacity $short-term, padding $short-term

  [data-orientation='landscape'] &
    font-size: 16px
    transition: opacity $normal-term
    width: 100%

  [data-orientation='portrait'] &
    font-size: 14px

    &:first-child
      border-top: #4A4A4A solid 2px

  [data-orientation='portrait'] .page-content[data-page-content='list'] &
    width: 100%

  [data-page-content='list'] &
    border-bottom: $bold-color 2px solid
    cursor: pointer
    opacity: 1

  [data-page-content=''] &
    height: 0

  &.show
    height: 100%
    opacity: 1
    overflow-y: auto
// }}}

.item img // {{{ //! how to test this?
  height: auto
  max-width: 100%

  [data-page-content='list'] &
    display: none
// }}}

.item > .title // {{{
  color: $bold-color
  font-size: 30px
  font-weight: bold
  line-height: normal

  [data-orientation='landscape'] &
    padding: 40px 90px

  [data-orientation='landscape'] .page-content[data-page-content='list'] &
    font-size: 24px
    padding: 12px 20px

  [data-orientation='portrait'] &
    padding: 20px

  [data-orientation='portrait'] .page-content[data-page-content='list'] &
    font-size: 20px
    padding: 12px 20px
// }}}

.item > .date
  background-color: $gray-color
  color: $text-color
  font-size: 12px
  line-height: 30px

  > span
    color: $sub-color
    font-weight: bold

    [data-orientation='landscape'] &
      margin: 0 20 0 90

    [data-orientation='landscape'] .page-content[data-page-content='list'] &
      margin: 20px

    [data-orientation='portrait'] &
      margin: 20px

.item > p // {{{
  line-height: 1.8
  white-space: pre-line

  [data-orientation='landscape'] &
    margin: 0 90 50 90

  [data-orientation='portrait'] &
    margin: 0 20 50 20

  [data-page-content='list'] &
    display: none
// }}}

.selector //! only in news?
  align-items: center
  background-color: #5C3D78
  color: #ffffff
  display: inline-flex
  font-size: 14px
  font-weight: bold
  letter-spacing: .5px

  [data-orientation="landscape"] &

    height: 60px
    margin-bottom: 10px

    >div:first-child
      border-right: 1px solid rgba(255, 255, 255, 0.3)
      font-size: 18px
      margin-right: 20px
      padding: 5px 20px

  [data-orientation="portrait"] &

    height: 40px
    margin-bottom: 0
    overflow-x: auto

    >div:first-child
      display: none

  &[data-page-content=""] //! what's this?

    >div:first-child
      display: none

.label
  cursor: pointer
  [data-orientation="landscape"] &
    margin-right: 20px

  [data-orientation="portrait"] &
    white-space: nowrap
    margin: 0 0 0 20px

  [data-page-content=""] &
    display: none

  &:hover
    color: $primary-color

.back
  align-items: center
  cursor: pointer
  display: flex
  font-size: 18px
  font-weight: bold
  margin-left: 20px

  [data-page-content = list] &
    display: none

.wrap //! how to test?
  [data-page-content='list'] &
    line-height: 1!important
    white-space: initial !important

////////////////////////
// pages

[data-page-id='landing'] // {{{
  align-items: center
  display: flex
  justify-content: center

  h1
    box-sizing: border-box
    color: white
    font-weight: bold
    letter-spacing: -1px

    [data-orientation='landscape'] &
      font-size: 48px
      text-shadow: 2px 2px 10px rgb(0, 0, 0)

      .sub
        font-size: 36px
        font-weight: 400

    [data-orientation='portrait'] &
      font-size: 40px
      padding: 0 20px

      .sub
        font-size: 24px
        font-weight: normal
// }}}

[data-page-id='news'] // {{{

  .page-content
    background-color: rgb(255, 255, 255)
// }}}

[data-page='faculty'] // {{{

  &[data-status="member"]
    #group
      opacity: 0
      pointer-events: none

  &[data-status="group"]

    .overview
      opacity: 1

      [data-orientation='portrait'] &
        box-sizing: border-box
// }}}

.group
  +vertical-center(inline-flex)
  background: $primary-color
  box-sizing: border-box
  color: $dark-color
  cursor: pointer
  margin: .5px
  opacity: 1
  overflow: hidden
  transition: background-color $short-term ease-in-out
  &:hover
    background-color: #c5c134

  [data-orientation='landscape'] &
    font-size: 24px
    height: calc( 100%/3 - 1px)
    width: calc(100%/3 - 1px)

  [data-orientation='portrait'] &
    font-size: 8vw
    height: 6em
    line-height: 1.2
    margin: .5em auto
    padding: .5em
    width: 80%

    &:first-child
      margin-top: 0

  img
    display: none

/////////////file style
.docx, .pdf, .mp3
  align-items: center
  border: 1px solid #DAE0E5
  border-radius: 3px
  box-sizing: border-box
  display: inline-flex
  margin: 0 5 5 0
  height: 40px
  padding: 0 15px 0 0

  span
    font-weight: bold
    margin: 0 15px

  a
    color: $dark-color

  &:hover
    background: #f1f3f1

  [data-orientation='landscape'] &
    font-size: 14px

  [data-orientation='portrait'] &
    font-size: 12px

.file
  border-top: 1px solid $gray-color
  border-bottom: 1px solid $gray-color
  font-size: 12px

  [data-orientation='landscape'] &
    margin: 0 90px

  [data-orientation='portrait'] &
    margin: 20px

  [data-page-content='list'] &
    border: none
    margin: 0 20px

    > div:first-child
      display: none

  > div:first-child
    padding: 20px 0

  > div:last-child
    margin: 0 5 20 0

span
    .docx &
      color: #03a9f4

    .pdf &
      color: #d50000

    .mp3 &
      color: #ff9100

