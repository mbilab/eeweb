// global setting

//// font

@font-face
  font-family: mon
  src: url('res/font/Montserrat-Light.otf')

@font-face
  font-family: mon_bold
  src: url('res/font/Montserrat-Regular.otf')

//// scroll bar

.page-content, .item, #group, #member

  &::-webkit-scrollbar
    width: 4px
    background-color: transparent

  &::-webkit-scrollbar-thumb, &::-webkit-scrllbar-track
    border-radius: 10px
    background-color: transparent

//// font awesome

.fa
  color: #e2db1a

.fa-4x

  [data-orientation='landscape'] &
    font-size: 3.5vw

  [data-orientation='portrait'] &
    font-size: 3.5vh

//// animation time

$normal-term: .6s
$short-term: .2s

//// color setting

$dark-color: rgb(68, 63, 70)
$primary-color: rgb(226, 219, 26)

//// mixin

=full-size
  height: 100%
  position: absolute
  width: 100%

=vertical-center
  align-items: center
  display: inline-flex
  justify-content: center

////////////////////////
// body > logo, menu, content > page > left, right, watermark

a
  color: white
  text-decoration: none

body
  font-family: mon, sans-serif
  margin: 0
  overflow: hidden

  &[data-orientation='portrait']
    background-color: lighten($dark-color, 10%)
  
#logo // {{{
  +vertical-center
  background-color: $primary-color
  position: fixed
  z-index: 100

  [data-orientation='landscape'] &
    font-size: 2.5vw
    left: .8em
    top: .8em
    padding: .22em .508em

  [data-orientation='portrait'] &
    font-size: 5vw
    height: 2em
    width: 2em
// }}}

#menu // {{{
  transition: all $short-term

  a
    transition: all ease-in-out .15s

  [data-orientation='landscape'] &
    font-size: 1.2vw //! layout logic?
    left: 42%
    position: absolute
    top: 2.79em
    transform: translate(-50%)
    white-space: nowrap
    z-index: 100

    a
      border-bottom: 2.5px solid transparent
      margin-left: 3.5em
      padding-bottom: 1em
  
      &:hover
        border-bottom-color: $primary-color
        padding-bottom: .2em

      &:first-child
        display: none

  [data-orientation='portrait'] &
    font-size: 3.5vw
    position: absolute
    top: 10vw
    transform: translateX(-100%)
    width: 10em

    a
      display: block
      margin: 2em 0 0 1em

      .extend
        display: block
        margin-left: .5em

  [data-orientation='portrait'][data-menued] &
    transform: translateX(0)
// }}}

#main // {{{
  +full-size
  background: url('http://i.imgur.com/Fbu28kR.jpg') center center / cover no-repeat
  overflow: hidden
  transition: all $short-term ease-in-out

  &:after // mask
    +full-size
    background: rgba($dark-color, .9)
    content: ''
    pointer-events: none
    transition: all $short-term ease-in-out

    [data-orientation='landscape'][data-page='landing'] &
      width: 43%

  [data-orientation='portrait'][data-menued] &
    box-shadow: -1vw 1vw 2vw darken($dark-color, 5%)
    transform: scale(.65)
    transform-origin: right
// }}}

.page // {{{
  +full-size
  box-sizing: border-box
  opacity: 0
  pointer-events: none
  transition: all $normal-term ease-in-out
  z-index: 1

  [data-orientation='landscape'] &
    padding: 8.5% 6% 4% 3.5%
    
  [data-orientation='portrait'] &
    padding: 0
    
@each $page in landing news faculty
  [data-page='#{$page}'] .page[data-page-id='#{$page}']
    opacity: 1
    pointer-events: auto
  [data-page='#{$page}'][data-menued] .page[data-page-id='#{$page}']
    pointer-events: none
// }}}

.page-info, .page-content
  float: left
  height: 100%
  position: relative

.page-info // {{{
  margin-right: 1%

  [data-orientation='landscape'] &
    width: 32%

  [data-orientation='portrait'] &
    font-size: 5vw
    height: 2em
    width: 100%

  .theme
    color: $primary-color
    font: 700 4vw 'mon'

    [data-orientation='landscape'] &
      position: relative
      top: 10%

      &::before
        content: ''
        display: none
        border: .45vw solid gray
        height: 15vh
        left: 3vw
        position: absolute
        top: 4vh
        width: 15vw
        z-index: -1

    [data-orientation='portrait'] &
      +vertical-center
      margin-left: 15vw
      height: 100%

    .extend
      color: white
      margin-left: .25em
      white-space: nowrap

  .description
    [data-orientation='landscape'] &
      color: #bdb2c3
      float: left
      font-family: 'mon'
      font-size: 1.2vw
      line-height: 1.7
      position: relative
      top: 6em
      transition: opacity $normal-term
  
    [data-orientation='portrait'] &
      display: none
// }}}
  
.page-content
  box-sizing: border-box
  overflow: auto
  [data-orientation='landscape'] &
    padding: 2% 3%
    width: 67%

  [data-orientation='portrait'] &
    font-size: 5vw
    height: calc(100% - 2em)
    width: 100%

  [data-orientation='portrait'][data-page='faculty'] &
    box-sizing: border-box
    padding: 7vw 0

  &[data-page-content="list"]

    &:hover::-webkit-scrollbar-thumb
      background-color: $primary-color

  &[data-page-content="content"]
    
    &:hover::-webkit-scrollbar-thumb
      background-color: rgba(122, 122, 122, 0.65)

//.overview //! need to discuss
  height: 100%
  overflow-x: hidden
  overflow-y: auto
  position: relative
  transition: opacity $normal-term
  width: 100%

//  .page-content[data-page-content="list"] &
    opacity: 1

//  .page-content[data-page-content="content"] &
    opacity: 0
    pointer-events: none

//.header
  float: left //! flexbox?
  box-sizing: border-box
  position: relative

//  [data-orientation='landscape'] &
    margin: 0 2.5%
    margin-bottom: 5%
    width: 45%

//  [data-orientation='portrait'] &
    padding: 1em .5em
    width: 100%

//.header + .header
 // border-top: 1px solid lighten($dark-color, 50%) //discuss

//.date,.meta //! vertical alignment, css selector
  cursor: pointer
  font-family: 'mon'
  overflow: hidden
  position: relative
  text-align: left

//  [data-orientation='landscape'] &
    font-size: 1.1vw
    margin-top: 5%
    line-height: 1.8

//  [data-orientation='portrait'] &
    font-size: 3vw
    margin-top: 3%
    line-height: 1.5

//.date
  [data-orientation='portrait'] &
    display: inline
    margin-left: 5%

//.meta
  [data-orientation='portrait'] &
    display: block

.item
  cursor: pointer
  display: none
  font-family: 'mon'
  opacity: 0
  overflow-x: hidden
  overflow-y: auto
  position: relative
  text-align: left
  transition: opacity $normal-term
  width: 100%

  [data-orientation='portrait'] .page-content[data-page-content='list'] &
    border-bottom: lighten(rgb(71, 66, 70), 50%) 2px solid
    box-sizing: border-box
    margin-bottom: 1em
    padding: 0 5%

    &:first-child
      margin-top: 1em

  [data-orientation='landscape'] .page-content[data-page-content='list'] &
    float: left
    margin: 0 2% 2% 2%
    width: 45%

  [data-page-content='list'] &
    display: flex
    flex-wrap: wrap
    opacity: 1
  
  i
    display: none

    [data-page-content='list'] &
      display: inline-block

  p
    white-space: pre-line

    [data-orientation='landscape'] &
      font-size: 1vw
      line-height: 2.5

    [data-orientation='portrait'] &
      font-size: 3vw
      line-height: 2

    [data-page-content='list'] &
      -webkit-line-clamp: 2
      -webkit-box-orient: vertical
      display: -webkit-box
      overflow: hidden

  img
    margin: .5vw

    [data-orientation='landscape'] &
      width: 15%

    [data-orientation='portrait'] &
      width: 47%

    [data-page-content='list'] &
      display: none

.date
  font-size: 1vw
  margin-top: 1em
  position: relative
  text-align: right
  width: 100%

  [data-page-content='list'] &
    text-align: left

.return
    cursor: pointer
    position: absolute
    transition: all $short-term
    z-index: 100

    [data-orientation="landscape"] &
      bottom: 5%
      font-size: 1vw
      right: 5%

    [data-orientation='portrait'] &
      position: fixed
      top: 5vw
      transform: translateY(-50%)
      right: 4%

    .page-content[data-page-content="list"] &
      opacity: 0

    .page-content[data-page-content="content"] &
      opacity: 1

.title
  display: inline-block

  [data-orientation='landscape'] &
    font-size: 3vw

  [data-orientation='portrait'] &
    font-size: 5vw

  [data-page-content='list'] &
    align-items: center
    display: flex
    font-size: 1.1vw !important
    margin-left: 5%
    white-space: nowrap

.show
  display: block!important
  height: 100%
  opacity: 1
  width: 100%

  [data-orientation='portrait'] &
    box-sizing: border-box
    padding: 10% 5%

.watermark
  [data-orientation='landscape'] &
    bottom: 0
    color: rgba(92, 86, 92, 0.47)
    font-size: 10vw
    font-weight: 900
    position: absolute
    right: 0
    white-space: nowrap

  [data-orientation='portrait'] &
    display: none

  [data-page-id='landing'] &
    right: 57%

[data-page-id="landing"]
  
  .theme
    color: white
    font-weight: 100
    line-height: 2
    position: relative
    text-shadow: 2px 2px 10px rgb(0, 0, 0) 
    top: 50%
    transform: translateY(-50%)

  [data-orientation='landscape'] &
    
    .theme
      font-size: 2vw
      left: 23%
      text-align: left

  [data-orientation='portrait'] &
    
    .theme
      font-size: 5vw
      text-align: center

[data-page-id='news']
  
  .page-content
    //background: url('http://i.imgur.com/0TRwFHS.png') 45% 0% / cover no-repeat
    background-color: rgb(255,255,255)

// lab page

[data-page="faculty"]
  &[data-status="member"]
    #group
      opacity: 0
      pointer-events: none

    #member
      opacity: 1

  &[data-status="group"]
    #member
      pointer-events: none

  .overview
    opacity: 1
    
    [data-orientation='portrait'] &
      box-sizing: border-box

#group
  height: 100%
  opacity: 1
  overflow-y: auto
  transition: opacity $normal-term ease-in-out
  width: 100%
  
  [data-orientation='landscape'] &
    align-items: center
    display: flex
    flex-wrap: wrap
    justify-content: center

.group
  align-items: center
  background: $primary-color
  color: #000
  display: flex
  font-family: 'mon_bold'
  justify-content: center
  text-align: center
  white-space: wrap
  
  [data-orientation='landscape'] &
    font-size: 1.5vw
    height: 30%
    margin: 1%
    width: 26%

  [data-orientation='portrait'] &
    font-size: 3.5vw
    height: 9em
    margin: 1.5em auto
    width: 18em

    &:first-child
      margin-top: 0

#member
  display: none
  height: 100%
  justify-content: center
  opacity: 0
  overflow-y: auto
  position: relative
  top: -100%
  transition: opacity $normal-term ease-in-out
  width: 100%

.member
  align-items: center
  display: flex
  flex-wrap: wrap
  justify-content: center
  cursor: pointer

  >img
    height: 100%
    width: 100%
